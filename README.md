# MLup web service

## TODO:

### API:
* [ ] Получить информацию о модели
* [ ] Предикт
* [ ] Отправить на предикт
* [ ] Забрать результаты предикта

# TODO:
* [ ] Консольное приложение.
* [x] Разобраться с конфигами. Запуск без конфига. Генератор конфига.
* [x] Научиться сохранять все необходимое, что бы запустить на сервере.
* [x] Реализовать numpy predict метод в DataTransformers
* [x] Реализовать очередь и батчинг, модель должна быть в 1 процессе.
* [x] Добавить в очередь и батчинг view, в которой можно забрать результаты предикта.
* [ ] Написать тесты на все все все
* [ ] Тесты на конфиг
* [x] Тесты на классы модель и не веб апп
* [x] Тесты на модель
* [ ] Тесты на веб приложение и его ответы, документирование
* [ ] Тесты на разные конфигурации приложения
* [x] Настроить логи, что бы писал PID процесса
* [x] Добавить возможность конфигурации логов и метрик для любого приложения
* [ ] Реализовать настройку метрик
* [x] Реализовать разные архитектуры приложения, под разные типы моделей.
* [ ] Разобраться с shutdown FastAPI приложения
* [ ] Научиться генерировать конфиг
* [ ] Улучшить интерфейс создания объектов и загрузки модели
* [ ] Добавить скрипты для использования без кода: запуск из конфига, запуск из файла, генерация конфига.
* [ ] Добавить бинаризацию, десерилизацию объектов
* [x] Подумать про авторелоад, при изменении параметров
* [ ] Добавить дата трансформеры для примитивов и питон коллекций


https://startupfellows.ru/


## Example Use


### Local run for testing
```python
from sklearn.tree import DecisionTreeClassifier
from mlup import MLupWebApp


ml_model: DecisionTreeClassifier

mlup_app = MLupWebApp(model=ml_model)
mlup_app.run_web_app()
# Or mlup_app.run_web_app(daemon=True) for run in other process

# Check api docs http://localhost:8005/docs

import requests

response = requests.post(
    "http://localhost:8005/predict",
    data={
        "data_for_predict": [
            {"model_column_1": 123, "model_column_2": 423},
            {"model_column_1": 123, "model_column_2": 423},
        ]
    }
)
print(response.json())
```

### Save model